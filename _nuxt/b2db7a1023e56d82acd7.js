(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{181:function(t,e,r){var n=r(6),c=r(182)(!1);n(n.S,"Object",{values:function(t){return c(t)}})},182:function(t,e,r){var n=r(8),c=r(21),o=r(18),l=r(47).f;t.exports=function(t){return function(e){for(var r,d=o(e),m=c(d),f=m.length,i=0,v=[];f>i;)r=m[i++],n&&!l.call(d,r)||v.push(t?[r,d[r]]:d[r]);return v}}},183:function(t,e,r){t.exports=r.p+"img/8d7b4d6.png"},184:function(t,e,r){t.exports=r.p+"img/3a389fa.png"},185:function(t,e,r){"use strict";var n=r(3),c=r(17),o=r(22),l=r(116),d=r(64),m=r(10),f=r(48).f,v=r(65).f,h=r(9).f,C=r(186).trim,_=n.Number,x=_,I=_.prototype,k="Number"==o(r(78)(I)),O="trim"in String.prototype,$=function(t){var e=d(t,!1);if("string"==typeof e&&e.length>2){var r,n,c,o=(e=O?e.trim():C(e,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=e.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,c=49;break;case 79:case 111:n=8,c=55;break;default:return+e}for(var code,l=e.slice(2),i=0,m=l.length;i<m;i++)if((code=l.charCodeAt(i))<48||code>c)return NaN;return parseInt(l,n)}}return+e};if(!_(" 0o1")||!_("0b1")||_("+0x1")){_=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof _&&(k?m((function(){I.valueOf.call(r)})):"Number"!=o(r))?l(new x($(e)),r,_):$(e)};for(var T,N=r(8)?f(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;N.length>w;w++)c(x,T=N[w])&&!c(_,T)&&h(_,T,v(x,T));_.prototype=I,I.constructor=_,r(11)(n,"Number",_)}},186:function(t,e,r){var n=r(6),c=r(23),o=r(10),l=r(187),d="["+l+"]",m=RegExp("^"+d+d+"*"),f=RegExp(d+d+"*$"),v=function(t,e,r){var c={},d=o((function(){return!!l[t]()||"​"!="​"[t]()})),m=c[t]=d?e(h):l[t];r&&(c[r]=m),n(n.P+n.F*d,"String",c)},h=v.trim=function(t,e){return t=String(c(t)),1&e&&(t=t.replace(m,"")),2&e&&(t=t.replace(f,"")),t};t.exports=v},187:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},188:function(t,e,r){t.exports=r.p+"img/392b677.jpg"},189:function(t,e,r){"use strict";r.r(e);r(24),r(13),r(181),r(34);var n=r(5),c={props:{isTimerOn:Boolean},data:function(){return{currTimer:15,timerInterval:null}},methods:{toggleTimer:function(){var t=this;this.currTimer>=15&&this.isTimerOn?this.timerInterval=setInterval((function(){t.currTimer=t.currTimer-1,0===t.currTimer&&(clearInterval(t.timerInterval),$nuxt.$emit("timer-finish"))}),1e3):clearInterval(this.timerInterval)},resetTimer:function(){this.currTimer=15,this.toggleTimer()}},created:function(){var t=this;this.$nuxt.$on("toggle-timer",(function(){return t.toggleTimer()})),this.$nuxt.$on("reset-timer",(function(){return t.resetTimer()}))},destroyed:function(){clearInterval(this.timerInterval)}},o=r(20),l=Object(o.a)(c,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"timer-container"},[e("img",{attrs:{src:r(183),alt:""}}),this._v("\n  "+this._s(this.currTimer)+"\n")])}),[],!1,null,null,null).exports,d=(r(185),{props:{round:Number}}),m=Object(o.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"round-container"},[e("img",{attrs:{src:r(184)}}),this._v("\n  "+this._s(this.round)+"/5\n")])}),[],!1,null,null,null).exports,f={props:{msg:String}},v=Object(o.a)(f,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"msg-container"},[this._v("\n  "+this._s(this.msg)+"\n")])}),[],!1,null,null,null).exports,h={props:{revealCards:Boolean,card:String},methods:{cardClicked:function(){$nuxt.$emit("toggle-timer"),$nuxt.$emit("card-clicked",this.$vnode.key+1)}}},C=Object(o.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card-container",on:{click:t.cardClicked}},[n("div",{staticClass:"flip-card",class:{revealCards:t.revealCards}},[n("div",{staticClass:"flip-card-inner",class:{revealCards:t.revealCards}},[n("div",{staticClass:"flip-card-front",class:{revealCards:t.revealCards}},[n("img",{attrs:{src:r(188)}})]),t._v(" "),n("div",{staticClass:"flip-card-back"},[t._v(t._s(t.card))])])])])}),[],!1,null,null,null).exports,_={props:{cards:Array,revealCards:Boolean,action:Boolean,disabledCardsClick:Boolean},components:{Card:C}},x=Object(o.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cards-container",class:{opacity:!t.action,disabledCardsClick:t.disabledCardsClick}},t._l(t.cards,(function(e,n){return r("Card",{key:n,attrs:{card:e,revealCards:t.revealCards}})})),1)}),[],!1,null,null,null).exports,I=r(44),k="https://mapi.xchangepro.net/tests/tcm/ofer_baram/",O=r.n(I).a.create({headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),$=function(data,t){return T(t,"POST",data)};function T(t){return N.apply(this,arguments)}function N(){return(N=Object(n.a)(regeneratorRuntime.mark((function t(e){var r,data,n,c=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"get",data=c.length>2&&void 0!==c[2]?c[2]:null,t.prev=2,t.next=5,O({url:"".concat(k),method:r,data:data});case 5:return n=t.sent,t.abrupt("return",n.data);case 9:throw t.prev=9,t.t0=t.catch(2),console.log(t.t0),t.t0;case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}var w=function(t,e){return localStorage.setItem(t,JSON.stringify(e))},E=function(t){return JSON.parse(localStorage.getItem(t))},y={createGame:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$({data:{action:"start"}});case 2:return e=t.sent,r=e.data.game_id,w("game_id",r),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),playRound:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(e,r){var n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=E("game_id"),t.next=3,$({data:{action:"play",game_id:n,round:r,card:e}});case 3:return c=t.sent,t.abrupt("return",c.data);case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},R={data:function(){return{gameId:null,revealCards:!1,cards:["C","C","C"],round:1,action:!1,disabledCardsClick:!0,msg:null}},components:{Timer:l,Round:m,Msg:v,CardList:x},computed:{newGameBtn:function(){return this.round>1&&!this.action?"Restart new game":"Start game"}},methods:{gameOver:function(){this.action=!1,this.msg="Game Over, play again?"},playRound:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.disabledCardsClick=!0,r.next=3,y.playRound(t,e.round);case 3:n=r.sent,e.cards=Object.values(n.cards)[0],c=Object.values(n.status)[0],e.revealCards=!e.revealCards,"l"===c?e.gameOver():setTimeout((function(){e.disabledCardsClick=!1,e.round++,e.revealCards=!e.revealCards,$nuxt.$emit("reset-timer")}),2e3);case 8:case"end":return r.stop()}}),r)})))()},createGame:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.msg=null,e.next=4,y.createGame();case 4:t.gameId=e.sent,t.action=!0,t.revealCards=!1,t.round=1,t.disabledCardsClick=!1,$nuxt.$emit("reset-timer"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()}},created:function(){var t=this;this.$nuxt.$on("timer-finish",(function(){return t.gameOver()})),this.$nuxt.$on("card-clicked",(function(e){return t.playRound(e)}))}},j={components:{Game:Object(o.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"game-container"},[t.msg?r("Msg",{attrs:{msg:t.msg}}):t._e(),t._v(" "),r("div",{staticClass:"round-timer-container"},[r("Timer",{attrs:{isTimerOn:t.disabledCardsClick}}),t._v(" "),r("Round",{attrs:{round:t.round}})],1),t._v(" "),r("CardList",{attrs:{cards:t.cards,revealCards:t.revealCards,action:t.action,disabledCardsClick:t.disabledCardsClick}}),t._v(" "),r("button",{staticClass:"game-btn",attrs:{disabled:t.action},on:{click:t.createGame}},[t._v(t._s(t.newGameBtn))])],1)}),[],!1,null,null,null).exports}},S=Object(o.a)(j,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-container"},[this._m(0),this._v(" "),e("Game")],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-title-container"},[e("h1",{staticClass:"title"},[this._v("Three Card Monte")])])}],!1,null,null,null);e.default=S.exports}}]);